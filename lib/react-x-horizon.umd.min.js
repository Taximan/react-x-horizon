!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactXHorizon=t(require("react")):e.ReactXHorizon=t(e.React)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(4)},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),l=function(e){function t(e,n){o(this,t);var r=u(this,Object.getPrototypeOf(t).call(this,e,n));return r.state={hz:r.props.hz},r}return i(t,e),c(t,[{key:"getChildContext",value:function(){return{hz:this.state.hz}}},{key:"render",value:function(){return s["default"].Children.only(this.props.children)}}]),t}(a.Component);l.childContextTypes={hz:s["default"].PropTypes.func.isRequired},t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),b=n(6),y=r(b),h=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){var n=function(n){function r(e,n){i(this,r);var o=c(this,Object.getPrototypeOf(r).call(this,e,n));t=(0,y["default"])(t);var a=o.context.hz;return o.collectionsToPropsMapper=t.slice(-1)[0],o.collectionNames=t.slice(0,t.length-1),o.collections=o.collectionNames.map(function(e){return a(e)}),o.mappings={},o.observables={},o.actions={},o.computeMappings(o.props),o.computeObservablesAndActions(),o.state=Object.keys(o.observables).reduce(function(e,t){return Object.assign({},e,u({},t,[]))},{}),o}return a(r,n),l(r,[{key:"computeMappings",value:function(e){this.mappings=this.collectionsToPropsMapper.apply(this,o(this.collections).concat([e]))}},{key:"computeObservablesAndActions",value:function(){var e=this;Object.keys(this.mappings).forEach(function(t){var n=e.mappings[t];n.subscribe&&"function"==typeof n.subscribe&&(e.observables[t]=n.subscribe(function(n){e.setState(u({},t,n))})),"function"==typeof n&&(e.actions[t]=n)})}},{key:"componentWillReceiveProps",value:function(e){this.unsubscribeFromCurrentObservables(),this.computeMappings(e),this.computeObservablesAndActions()}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromCurrentObservables()}},{key:"unsubscribeFromCurrentObservables",value:function(){var e=this;Object.keys(this.observables).forEach(function(t){return e.observables[t].unsubscribe()})}},{key:"render",value:function(){return p["default"].createElement(e,s({},this.props,this.state,this.actions))}}]),r}(f.Component);return n.contextTypes={hz:p["default"].PropTypes.func.isRequired},n}};t["default"]=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.Provider=void 0;var o=n(1),u=(r(o),n(2)),i=r(u),c=n(3),a=r(c);t.Provider=i["default"],t.inject=a["default"]},function(e,t){function n(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function r(e,t,o,i,c){var a=-1,s=e.length;for(o||(o=u),c||(c=[]);++a<s;){var l=e[a];t>0&&o(l)?t>1?r(l,t-1,o,i,c):n(c,l):i||(c[c.length]=l)}return c}function o(e){return function(t){return null==t?void 0:t[e]}}function u(e){return P(e)||i(e)}function i(e){return a(e)&&m.call(e,"callee")&&(!j.call(e,"callee")||O.call(e)==y)}function c(e){return null!=e&&l(g(e))&&!s(e)}function a(e){return p(e)&&c(e)}function s(e){var t=f(e)?O.call(e):"";return t==h||t==v}function l(e){return"number"==typeof e&&e>-1&&e%1==0&&b>=e}function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function p(e){return!!e&&"object"==typeof e}var b=9007199254740991,y="[object Arguments]",h="[object Function]",v="[object GeneratorFunction]",d=Object.prototype,m=d.hasOwnProperty,O=d.toString,j=d.propertyIsEnumerable,g=o("length"),P=Array.isArray;e.exports=r},function(e,t,n){function r(e){var t=e?e.length:0;return t?o(e,1):[]}var o=n(5);e.exports=r}])});